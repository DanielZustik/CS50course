{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

{% block main %}

    <style>
        .center-table {
            margin-left: auto;
            margin-right: auto;
        }
        td {
            border-style: solid;
            border-width: 1px;  /* added line */
            border-color: black;  /* added line */
        }
        th {
            padding-top: 31px;
            padding-bottom: 11px;
            padding-right: 31px;
            padding-left: 31px;
            }
    </style>
     {% set ns = namespace(total_welth=0) %}
    <table class="center-table">
        <tr>
            <th>Symbol</th>
            <th>Current price/share</th>
            <th>Total Shares</th>
            <th>Total Value hold</th>
        </tr>
        {% for item in portfolio %}
        <tr>
            <td>{{ item.symbol }}</td>
            <td>{{ item.price }}</td>
            <td>{{ "%.0f"|format(item.total_shares) }}</td>
            <td>{{ "%.2f"|format(item.total_shares * item.price) }}</td>
        </tr>
        {% set ns.total_welth = ns.total_welth + (item.total_shares * item.price) %}
        {% endfor %}
    </table>

    <table class="center-table">
        <tr>
            <th>Cash</th>
            <th>Total welth</th>
        </tr>
        <tr>
            <td>{{ "%.2f"|format(cash) }}</td>
            <td>{{ "%.2f"|format(cash + ns.total_welth) }}</td>
        </tr>
    </table>
{% endblock %}
